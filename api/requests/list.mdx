---
title: "List Requests"
openapi: "GET /api/bins/{binId}/requests"
description: "Retrieve captured requests for a bin"
---

<ParamField path="binId" type="string" required>
  The bin's public ID or internal ID
</ParamField>

<ParamField query="since" type="number">
  Only return requests after this Unix timestamp (milliseconds)
</ParamField>

<ParamField query="limit" type="number">
  Maximum number of requests to return (default: 50, max: 100)
</ParamField>

<ParamField query="offset" type="number">
  Number of requests to skip for pagination
</ParamField>

<ParamField header="x-bin-password" type="string">
  Password for protected bins
</ParamField>

## Request

<CodeGroup>
```bash cURL
curl https://curlme.io/api/bins/abc123xyz/requests \
  -H "x-api-key: cm_your_api_key"
```

```bash cURL (with filters)
curl "https://curlme.io/api/bins/abc123xyz/requests?since=1706745600000&limit=20" \
  -H "x-api-key: cm_your_api_key"
```

```javascript JavaScript
const response = await fetch('https://curlme.io/api/bins/abc123xyz/requests', {
  headers: { 'x-api-key': 'cm_your_api_key' }
});
const requests = await response.json();
```

```python Python
import requests

response = requests.get(
    'https://curlme.io/api/bins/abc123xyz/requests',
    headers={'x-api-key': 'cm_your_api_key'},
    params={'since': 1706745600000}
)
reqs = response.json()
```
</CodeGroup>

## Response

<ResponseField name="array" type="StoredRequest[]">
  <Expandable title="StoredRequest object">
    <ResponseField name="id" type="string">
      Unique request identifier
    </ResponseField>
    <ResponseField name="binId" type="string">
      Parent bin ID
    </ResponseField>
    <ResponseField name="method" type="string">
      HTTP method (GET, POST, etc.)
    </ResponseField>
    <ResponseField name="path" type="string">
      Request path
    </ResponseField>
    <ResponseField name="headers" type="object">
      Request headers as key-value pairs
    </ResponseField>
    <ResponseField name="query" type="object">
      Query parameters as key-value pairs
    </ResponseField>
    <ResponseField name="body" type="string">
      Raw request body (may be null)
    </ResponseField>
    <ResponseField name="contentType" type="string">
      Content-Type header value
    </ResponseField>
    <ResponseField name="ip" type="string">
      Client IP address
    </ResponseField>
    <ResponseField name="timestamp" type="number">
      Unix timestamp (milliseconds)
    </ResponseField>
    <ResponseField name="size" type="number">
      Request body size in bytes
    </ResponseField>
    <ResponseField name="labels" type="string[]">
      User-assigned labels
    </ResponseField>
  </Expandable>
</ResponseField>

```json Example Response
[
  {
    "id": "clx1234567890abcdef",
    "binId": "clx0987654321fedcba",
    "method": "POST",
    "path": "/webhooks/stripe",
    "headers": {
      "content-type": "application/json",
      "user-agent": "Stripe/1.0",
      "stripe-signature": "t=1706745600,v1=abc123..."
    },
    "query": {},
    "body": "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"object\":{\"id\":\"pi_456\",\"amount\":2000}}}",
    "contentType": "application/json",
    "ip": "192.168.1.1",
    "timestamp": 1706745600000,
    "size": 156,
    "labels": ["stripe", "production"]
  },
  {
    "id": "clx2345678901bcdefg",
    "binId": "clx0987654321fedcba",
    "method": "GET",
    "path": "/health",
    "headers": {
      "user-agent": "curl/7.64.1"
    },
    "query": {
      "check": "true"
    },
    "body": null,
    "contentType": null,
    "ip": "10.0.0.1",
    "timestamp": 1706745500000,
    "size": 0,
    "labels": []
  }
]
```

## Polling for New Requests

Use the `since` parameter for real-time polling:

```javascript
let lastTimestamp = Date.now();

async function poll() {
  const response = await fetch(
    `https://curlme.io/api/bins/abc123xyz/requests?since=${lastTimestamp}`,
    { headers: { 'x-api-key': 'cm_your_api_key' } }
  );
  const requests = await response.json();
  
  if (requests.length > 0) {
    console.log('New requests:', requests);
    lastTimestamp = Math.max(...requests.map(r => r.timestamp)) + 1;
  }
}

// Poll every 2 seconds
setInterval(poll, 2000);
```

## Pagination

```bash
# First page
curl "https://curlme.io/api/bins/abc123xyz/requests?limit=20&offset=0" \
  -H "x-api-key: cm_your_api_key"

# Second page
curl "https://curlme.io/api/bins/abc123xyz/requests?limit=20&offset=20" \
  -H "x-api-key: cm_your_api_key"
```

## Errors

| Status | Description |
| ------ | ----------- |
| `401` | Unauthorized or password required |
| `403` | Permission denied |
| `404` | Bin not found |

## Notes

- Requests are returned in descending order (newest first)
- The `body` field is the raw request body as a string
- For JSON bodies, parse them in your application
- Large bodies may be truncated based on plan limits
